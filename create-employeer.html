<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css" />
    <title>Employeer page</title>
    <script src="https://telegram.org/js/telegram-web-app.js?1"></script>
</head>
<body>

<form id="form">
    <section>
        <input type="text" placeholder="Имя" id="name" maxlength=30 required>
        <label for ="role"></label> 
        <select name = "Roles"id = "role" required> 
            <!-- options here -->
        </select> 
        <!-- button inside the form -->
        <!-- added an ID to the form so we can access it easily in Javascript -->

        


        
       </section >
   </form >

<script type = "application/javascript"> 

document.addEventListener("DOMContentLoaded", function() {
  let tg = window.Telegram.WebApp;
  let sendButton = document.getElementById("send");
  
  sendButton.addEventListener("click", function(event) {
      event.preventDefault(); // prevent default form submission
      
      let nameInput = document.getElementById('name');
      let roleSelect = document.getElementById('role');
      
      if (nameInput.value === '' || roleSelect.value === '') {
          alert("Please fill out all fields correctly!");
          return;
      } else {
          let empData = {
              name: nameInput.value,
              role: roleSelect.value
          };
          
          tg.sendData(JSON.stringify(empData));
          
          tg.close();
      }
  });
});
</script>

<button id ="send">Senden</button ><!-- moved the button outside of the form -->
<button id ="reset"type ="reset ">Back</button><!-- also moved this button outside of the form -->

</body >