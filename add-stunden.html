<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css" />
    <title>Document</title> 
    <script src="https://telegram.org/js/telegram-web-app.js?1"></script>
    <script>
        function setThemeClass() {
            document.documentElement.className = Telegram.WebApp.colorScheme;
        }
        Telegram.WebApp.onEvent('themeChanged', setThemeClass);
        setThemeClass();
    </script>
</head>
<body>
    <h2>Add Stunden</h2>

    <div id="error"></div>

    <form id="form">
        <input type="date"  placeholder="Дата" id="datum" required>
        <input type="text" placeholder="Имена" id="names" required>
        <input type="number" placeholder="Часы" id="stunde" min="0" step=".01" required>
        <button id="senden">Senden</button>
    </form>
    
    
    <script type="application/javascript">
        let tg = window.Telegram.WebApp;
        let senden = document.getElementById("senden");
        tg.expand();

        senden.addEventListener("click", () => {
            let datum = document.getElementById('datum');
            let names = document.getElementById('names');
            let stunde = document.getElementById('stunde');
            if (datum.value == "" || names.value == "" || stunde == "") {
                tg.sendData("Пожалуйста заполните все поля правильно!");
                return;
            } else {
               let data = {
               datum: datum.value,
               names: names.value,
               stunde: stunde.value
               }
               tg.sendData(JSON.stringify(data));
            }
            tg.close();
        });       
    </script>

</body>
</html>
